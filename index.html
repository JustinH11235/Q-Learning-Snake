<html>
  <head>
    <html lang="en">
    <meta charset="utf-8">

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="./styles.css" type="text/css">

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

    <title>Q-Learning Snake</title>

  </head>
  <body>
    <h4>Iterations:</h4>
    <input type="text" id="iters" name="iters" value="50,000,000">
    <small>(Commas are ignored)</small>

    <br><h4>Rewards:</h4>
    <p>Wall Hit:</p>
    <input type="number" step="0.01" id="rewardWall" name="rewardWall" value="-1">
    <br><p>Body Hit:</p>
    <input type="number" step="0.01" id="rewardBody" name="rewardBody" value="-1">
    <br><p>Eat Apple:</p>
    <input type="number" step="0.01" id="rewardApple" name="rewardApple" value="1">
    <br><p>Otherwise:</p>
    <input type="number" step="0.01" id="rewardNothing" name="rewardNothing" value="-.1">

    <br><h4>Initial Modifiers:</h4>
    <p>Learning Rate:</p>
    <input type="number" step="0.01" id="lr" name="lr" value=".85">
    <br><p>Discount Factor:</p>
    <input type="number" step="0.01" id="df" name="df" value=".9">
    <br><p>Epsilon:</p>
    <input type="number" step="0.01" id="ep" name="ep" value=".5">

    <br><h4>Game:</h4>
    <p>Width: </p>
    <input type="number" id="widt" name="widt" value="10">
    <p>Height:</p>
    <input type="number" id="heigh" name="heigh" value="10">
    <p>Other Snakes: </p>
    <input type="number" id="othersnaks" name="othersnaks" value="0">
    <p>Apples: </p>
    <input type="number" id="appls" name="appls" value="1">

    <br><h4>State Options:</h4>
    <form>
      <p>Main Snake Body: </p>
      <input type="radio" id="nbpMain" name="Main" value="nbpMain">
      <label for="nbpMain">No Body Parts</label><br>
      <input type="radio" id="ortpMain" name="Main" value="ortpMain" checked>
      <label for="ortpMain">Only Relative Tail Position</label><br>
      <input type="radio" id="arbpMain" name="Main" value="arbpMain">
      <label for="arbpMain">All Relative Body Positions</label><br>
    </form>
    <form>
      <p>Other Snakes Body: </p>
      <input type="radio" id="nbpOther" name="Other" value="nbpOther" checked>
      <label for="nbpOther">No Body Parts</label><br>
      <input type="radio" id="ortpOther" name="Other" value="ortpOther">
      <label for="ortpOther">Only Relative Tail Position</label><br>
      <input type="radio" id="arbpOther" name="Other" value="arbpOther">
      <label for="arbpOther">All Relative Body Positions</label><br>
    </form>
    <form>
      <input type="checkbox" id="rap" name="rap" value="rap" checked>
      <label for="rap">Relative Apple Position</label><br>
      <input type="checkbox" id="fdtw" name="fdtw" value="fdtw" checked>
      <label for="fdtw">Forward Distance to Wall</label><br>
      <input type="checkbox" id="drctn" name="drctn" value="drctn" checked>
      <label for="drctn">Direction</label><br><br>
    </form>

    <div class="centered1">
      <span style="color: #000000">
        QTable Download Filename:
        <input type="text" id="qTableDownload" name="qTableDownload" placeholder="filename">
        <select id="qTableExt">
          <option value=".json">.json</option>
          <option value=".txt">.txt</option>
        </select>
        &nbsp
        <button class="btn btn-success" id="qTableDownloadBtn" disabled>Download</button><br><br>
        Test Report Download Filename:
        <input type="text" id="testReportDownload" name="testReportDownload" placeholder="filename">
        <select id="testReportExt">
          <option value=".json">.json</option>
          <option value=".txt">.txt</option>
        </select>
        &nbsp
        <button class="btn btn-success" id="testReportDownloadBtn" disabled>Download</button><br><br>
      </span>

      <canvas id="canvas"></canvas>

      <br><br>
      <select id="trainType">
        <option value="custom">Custom</option>
        <option value="preloaded">Preloaded</option>
      </select>
      <button class="btn btn-info" id="train">Train</button>
      <button class="btn btn-primary" id="test" disabled>Test</button>
      <br>
      <button class="btn btn-primary" id="pauseTest" disabled>Pause Test</button>
      <br>
      <input type="number" id="newFPS" name="newFPS" min="1" value="500">
      <button class="btn btn-success" id="fpsBtn" disabled>Set FPS</button>
      <br>
      <button class="btn btn-warning" id="unstick" disabled>Unstick</button>
      <button class="btn btn-warning" id="resetTest" disabled>Reset Test</button>

      <h4 id="score" style="visibility:hidden">Score: </h4>

      <h4 id="highscore" style="visibility:hidden">Highscore: </h4>

      <h4 id="ratio" style="visibility:hidden">Apples/Death: </h4>

      <h4 id="deaths" style="visibility:hidden">Deaths: </h4>

    </div>
    <script type="text/javascript" src="./reinforcement-q-learning.js"></script>
    <script type="text/javascript" src="./game.js"></script>
    <script type="text/javascript" src="./user-interface.js"></script>

  </body>
</html>
